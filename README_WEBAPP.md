# スケジュール検索Webアプリケーション

Cybozuから取得したスケジュールデータ（schedule.json）を検索できるFlask Webアプリケーションです。

## 📋 機能

- **施設検索**: 社長室、応接室、事務室面談テーブルなどの施設別に検索
- **日付検索**: 特定の日付のスケジュールを検索
- **キーワード検索**: タイトルやバッジ（来訪、会議、WEB会議など）で検索
- **参加者検索**: 参加者名で検索
- **統計表示**: 施設数、日付数、予定数の統計を表示
- **レスポンシブデザイン**: PC、タブレット、スマートフォンに対応

## 🚀 セットアップ

### 1. 必要なパッケージをインストール

```bash
pip install -r requirements.txt
```

### 2. アプリケーションを起動

```bash
python app.py
```

### 3. ブラウザでアクセス

```
http://localhost:5000
```

## 📁 ファイル構成

```
Cybouzu_schedule/
├── app.py                  # Flaskアプリケーション本体
├── schedule.json           # スケジュールデータ（main.pyで生成）
├── requirements.txt        # 必要なパッケージ
├── README_WEBAPP.md        # このファイル
└── templates/
    └── index.html          # Webページテンプレート
```

## 🔍 使い方

### 基本的な検索

1. **施設で絞り込み**: ドロップダウンから施設を選択
2. **日付で絞り込み**: 日付を選択
3. **キーワード検索**: タイトルやバッジに含まれる言葉で検索
4. **参加者検索**: 参加者名で検索

### 検索例

- **社長室の今週の予定**: 施設=社長室、日付を選択
- **来訪予定の一覧**: キーワード=「来訪」
- **特定の人の参加予定**: 参加者=「秋岡 拓弥」
- **複合検索**: 施設+日付+キーワードを組み合わせて絞り込み

### リセット

「リセット」ボタンで検索条件をクリアできます。

## 🌐 API エンドポイント

### 検索API
```
GET /api/search?facility=社長室&date=2025-11-05&keyword=来訪&participant=秋岡
```

### 施設一覧API
```
GET /api/facilities
```

### 日付一覧API
```
GET /api/dates
```

### 統計情報API
```
GET /api/stats
```

## 🎨 カスタマイズ

### ポート番号の変更

`app.py`の最後の行を編集：

```python
app.run(debug=True, host='0.0.0.0', port=5000)  # ポート番号を変更
```

### デザインの変更

`templates/index.html`の`<style>`タグ内のCSSを編集してデザインをカスタマイズできます。

## 📊 schedule.jsonのデータ構造

```json
{
  "施設名": {
    "日付": [
      {
        "title": "予定のタイトル",
        "start_datetime": "開始時刻",
        "end_datetime": "終了時刻",
        "badge": "バッジ（来訪、会議など）",
        "description_url": "詳細URL",
        "id": 1,
        "participants": ["参加者1", "参加者2"]
      }
    ]
  }
}
```

## 🔧 トラブルシューティング

### schedule.jsonが見つからない

まず`main.py`を実行してスケジュールデータを取得してください：

```bash
python main.py
```

### ポートが使用中

別のポート番号を指定してください：

```bash
# app.pyを編集してポート番号を変更するか、
# 既存のプロセスを終了してください
```

### パッケージが見つからない

```bash
pip install Flask
```

## 📝 注意事項

- schedule.jsonが最新の状態であることを確認してください
- 大量のデータがある場合、検索に時間がかかる場合があります
- 本番環境で使用する場合は、`debug=False`に設定してください

## 🔄 データの更新

スケジュールデータを更新するには：

```bash
python main.py
```

アプリケーションを再起動する必要はありません。ページをリロードすれば最新データが反映されます。

